// ğŸ–Šï¸è¨­ç½®devcontainer.jsonèªªæ˜åƒè€ƒ
// æ­¤JSONæª”æ¡ˆå€‹åˆ¥å±¬æ€§èªªæ˜ã€è¦æ ¼æ›¸ã€‘ï¼š https://containers.dev/implementors/json_reference/
// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// 1. README at: https://github.com/devcontainers/templates/tree/main/src/miniconda
// 2. README at: https://github.com/devcontainers/templates/tree/main/src/miniconda-postgres
// ä»¥ä¸‹è¨­å®šç›¸é—œçš„æª”æ¡ˆçš†å­˜æ”¾åœ¨ã€projectç›®éŒ„ã€‘ä¸‹çš„ç›®éŒ„.devcontainerä¹‹ä¸‹
// ğŸ“ c:\git_test\basic_dev
//     ğŸ“ .devcontainer
//			devcontainer.jsonèªªæ˜åƒè€ƒ 	 ==>é–‹ç™¼å®¹å™¨è¨­å®šæª”
//			noop.text					==>é˜²æ­¢Dockerfileä¸­ADDã€COPY...æª”æ¡ˆå­˜å–é˜²å‘†æ©Ÿåˆ¶
//     ğŸ“.github
//     ğŸ“src_XXXX
//			text.txt
//     ğŸ“ vnpy_src
//		.env						==>ç’°å¢ƒè®Šæ•¸è¨­å®šæª”
//		docker-compose.yml			==>å¾®æœå‹™è¨­å®šæª”
//		Dockerfile					==>é–‹ç™¼å½±åƒçµ„æˆè¨­å®šæª”
//		enviroment.yml 				==>pipã€condaç›¸é—œå¥—ä»¶å®‰è£è¨­å®š
//		main.py

{
	// å‡ºç¾åœ¨ç‹€æ…‹åˆ—ä¸­ã€é ç«¯é›»è…¦ã€‘åç¨±
	"name": "vnpy+fastAPI(V0.1.0)",
	
	// (1-1)---------------------------------------------------------------------
	// ä»¥ä¸‹è¨­å®šæ˜¯çµ¦åªå­˜åœ¨å–®ä¸€ä¸€å€‹Dockerfileæ™‚å€™ä½¿ç”¨
	// å…¶ä¸­context
	// "build": { 
	// 	"context": "..",
	// 	"dockerfile": "../Dockerfile"
	// },

	// (1-2)---------------------------------------------------------------------
	// ä»¥ä¸‹è¨­å®šé©åˆæ‡‰ç”¨æ–¼ã€Dockerfile + docker-compose.ymlã€‘å…±åŒä½¿ç”¨æ¢ä»¶ä¸‹ï¼š
	"dockerComposeFile": "../docker-compose.yml",		// 1. è¨­å®š docker-compose.yml
	"service": "app",									// 2. å¾®æœç‰©å™¨åç¨±
	//"workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
	"workspaceFolder": "/workspace",					// 3. è¨­å®šå¾®æœå‹™ç™»å…¥å¾Œæ‰€åœ¨ç›®éŒ„ä½ç½®
	
	// (2)------------------------------------------------------------------------
	"features": {
	 	//"ghcr.io/devcontainers/features/python:1": {
		//	 "version": "3.10.15"
	 	//}
	 },
	// (3)------------------------------------------------------------------------
	 "mounts": [
		"source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=cached"
	],
	// (4)------------------------------------------------------------------------
	// Configure tool-specific properties.
	// "customizations": {},
	"customizations": {
		"vscode": {
			"extensions": [
				"donjayamanne.python-environment-manager",
				"donjayamanne.python-extension-pack"
			]
		},
		"settings": {
			//for base
			//"python.defaultInterpreterPath": "/opt/miniconda/bin/python"
			
			// ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜
			// for virtural env
            "python.defaultInterpreterPath": "/opt/miniconda/envs/${localEnv:VIRTUAL_ENV_NAME}/bin/python" 
          }
	},
	
	// Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.
	// "remoteUser": "root"
	
	// (5)------------------------------------------------------------------------
	// Use 'forwardPorts' to make a list of ports inside the container available locally.
	"forwardPorts": [],
	// -------------------------------------------------------------------------
	// remoteEnv å±¬æ€§ï¼š 
	// 	remoteEnv å±¬æ€§ç”¨æ–¼è¨­å®šå®¹å™¨å…§çš„ç’°å¢ƒè®Šæ•¸ã€‚ 
	// å¯ä»¥é€šé remoteEnv ä¾†è¨­å®šéœ€è¦æš´éœ²çµ¦å®¹å™¨å…§çš„ç’°å¢ƒè®Šæ•¸ã€‚é€™äº›è®Šæ•¸æ˜¯åœ¨vs codeå…§éƒ¨ä½¿ç”¨çš„
	// ä¹Ÿå°±æ˜¯èªªåŸå…ˆå®¹å™¨å…§æ²’æœ‰é€™äº›è®Šæ•¸ï¼Œç¾åœ¨å¯ä»¥é€éè©²remoteEnvå±¬æ€§å‚³éçµ¦å®¹å™¨å…§ä½¿ç”¨ã€‚
	// ç›®å‰å·²çŸ¥é€™äº›è®Šæ•¸å¯ä»¥åœ¨terminalã€launch.jsonã€task.jsonå…§ä½¿ç”¨ã€‚
	"remoteEnv": {
		"localWorkspaceFolder": "${localWorkspaceFolder}",
		"localWorkspaceFolderBasename":"${localWorkspaceFolderBasename}",
		"containerWorkspaceFolder": "${containerWorkspaceFolder}",
		"containerWorkspaceFolderBasename": "${containerWorkspaceFolderBasename}",
		"devcontainerId": "${devcontainerId}",
		"LOCAL_USER_PATH": "${localEnv:HOME}${localEnv:USERPROFILE}",
		
		"My_Local_Env": "${localEnv:VIRTUAL_ENV_NAME}", // ?????????
		"My_Path": "/workspaces/${localWorkspaceFolderBasename}",
		"My_Env_Name": "${VIRTUAL_ENV_NAME}"  //ç„¡æ³•å¼•ç”¨ Dockerfileä¸­å®šç¾©çš„ç’°å¢ƒè®Šæ•¸
	},
	// (6)------------------------------------------------------------------------
	// ğŸš©ğŸš©ğŸš© 
	// æ³¨æ„ï¼šæ˜¯å»ºç«‹containerä¹‹å¾Œæ‰åŸ·è¡Œï¼Œæ‰€ä»¥å¾ŒçºŒçš„é‹ä½œæ˜¯ä¸æœƒé€²å…¥Imageåªèƒ½ç•¶ä½œè‡¨æ™‚çš„é–‹ç™¼ã€é™¤éŒ¯æƒ…å¢ƒä½¿ç”¨ã€‚
	// Use 'postCreateCommand' to run commands after the container is created.
	// "postCreateCommand":"pip install -r requirements.txt && ls -al && env",
	// "postCreateCommand": "python --version",
	"postCreateCommand":"chmod +x $WORKSPACE_DIR/pcc.sh && $WORKSPACE_DIR/pcc.sh"
	
}
